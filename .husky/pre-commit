# Run secret scanner on staged files
echo "ğŸ” Scanning for secrets..."
if command -v gitleaks &> /dev/null; then
  gitleaks protect --staged -c .gitleaks.toml --exit-code 1 || {
    echo "âŒ Secrets detected! Commit blocked."
    exit 1
  }
  echo "âœ… No secrets detected"
else
  echo "âš ï¸  gitleaks not installed, skipping secret scan"
fi
